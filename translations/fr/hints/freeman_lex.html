<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Je n'ai aucune id√©e de la mani√®re de commencer √† r√©soudre cette mission.
    </div>
    <div class="answer">
        <p>
            üí° L'id√©e g√©n√©rale est de diviser les deux cha√Ænes donn√©es en listes de groupes (comme des listes) de m√™mes caract√®res et de comparer ces deux listes paire par paire. Si chaque paire de listes internes est compos√©e du m√™me caract√®re et que la liste de la variante <b class="code">typed</b> contient au moins le m√™me nombre de caract√®res que la liste de <b class="code">text</b>, alors les messages donn√©s correspondent.   
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, par quoi dois-je commencer?
    </div>
    <div class="answer">
        <p>
            Vous aurez besoin de la fonction <a target="_blank" href="https://docs.python.org/3/library/itertools.html#itertools.groupby">groupby()</a> du module standard <a target="_blank" href="https://docs.python.org/3/library/itertools.html">itertools</a> pour diviser les deux cha√Ænes en listes de groupes. Importez-la donc.
        </p>
        <pre class="brush: python">
from itertools import groupby
        </pre>
        <p>
            Apr√®s avoir appliqu√© <b class="code">groupby()</b> sur la cha√Æne, vous obtiendrez un objet groupby. Si vous it√©rez sur cet objet, vous obtiendrez des tuples avec des caract√®res distincts et un objet groupby. Pour cette solution, vous n'aurez pas besoin du caract√®re (remplacez-le par "_" lors de l'it√©ration), mais vous devrez convertir l'objet grouper en un autre objet qui a une longueur (par exemple, une liste).
        </p>
        <p>
            En utilisant <a target="_blank" href="https://www.w3schools.com/python/python_lists_comprehension.asp">list comprehension</a>, it√©rez sur l'objet groupby et cr√©ez une liste d'objets grouper list√©s pour <b class="code">text1</b>. 
        </p>
        <pre class="brush: python">
text1 = [list(g) for _, g in groupby(text)]
        </pre>
        <p>
            R√©p√©tez l'op√©ration pour <b class="code">typed1</b>.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Vous avez de quoi faire! Nous faisons tellement de choses avec une ligne aussi courte. Comment comparer correctement ces listes maintenant?
    </div>
    <div class="answer">
        <p>
            Nous devons effectuer quelques comparaisons et chacune d'entre elles doit √™tre <b class="code">True</b> pour valider la correspondance des cha√Ænes donn√©es. Nous pouvons joindre les comparaisons avec l'op√©rateur <b class="code">and</b>, mais dans ce cas, nous utilisons la fonction <a target="_blank" href="https://www.w3schools.com/python/ref_func_all.asp">all()</a> avec une seule s√©quence de conditions comme argument.
        </p>
        <pre class="brush: python">
return all((...))
        </pre>
        <p>
            D'apr√®s la description, les cha√Ænes donn√©es ne doivent pas √™tre identiques (pas de lettres longues). Vous devez donc d'abord v√©rifier qu'elles ne sont pas √©gales.
        </p>
        <pre class="brush: python">
return all((text!= typed, ...))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, que dois-je v√©rifier ensuite?
    </div>
    <div class="answer">
        <p>
            Les cha√Ænes donn√©es peuvent avoir des lettres longuement press√©es, mais en g√©n√©ral elles devraient √™tre identiques. Elles doivent contenir les m√™mes lettres. Puisque chaque liste int√©rieure de <b class="code">text1, typed1</b> repr√©sente une lettre distincte, la longueur de <b class="code">text1</b> doit √™tre la m√™me que celle de <b class="code">typed1</b>. C'est votre deuxi√®me condition.
        </p>
        <pre class="brush: python">
return all((text!= typed, len(typed1) == len(text1), ...))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Je ne comprends pas comment comparer chaque paire de listes internes des deux listes g√©n√©rales.
    </div>
    <div class="answer">
        <p>
            Oui, cette √©tape n√©cessite quelques explications suppl√©mentaires. Tout d'abord, utilisez la fonction <a target="_blank" href="https://www.w3schools.com/python/ref_func_zip.asp">zip()</a> et it√©rez sur son r√©sultat pour effectuer cette comparaison par paire.
        </p>
        <pre class="brush: python">
...for a, b in zip(text1, typed1)
        </pre>
        <p>
            Pourquoi avons-nous besoin de ces listes <b class="code">a, b</b> pour valider les lettres longuement press√©es? Chaque liste contient un certain nombre de lettres identiques, mais nous avons √©galement besoin de la m√™me lettre dans les deux listes! Vous devez donc comparer deux √©l√©ments quelconques de listes diff√©rentes.
        </p>
        <pre class="brush: python">
a[0] == b[0]
        </pre>
        <p>
            Et si la lettre est longuement press√©e, le nombre de lettres dans la liste de la cha√Æne <b class="code">typed</b> doit √™tre sup√©rieur ou √©gal √† celui de la liste de la cha√Æne <b class="code">text</b>.
        </p>
        <pre class="brush: python">
len(b)>= len(a)
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Aidez-moi s'il vous pla√Æt √† joindre cette derni√®re √©tape ensemble.
    </div>
    <div class="answer">
        <p>
            En utilisant la compr√©hension de liste, cr√©ez une liste des r√©sultats des deux conditions ensemble (op√©rateur<b class="code">and</b> ) apr√®s avoir it√©r√© sur des listes g√©n√©rales zipp√©es.
        </p>
        <pre class="brush: python">
[b[0] == a[0] and len(b)>= len(a) for a, b in zip(text1, typed1)]
        </pre>
        <p>
            Mais voici une astuce! √Ä l'int√©rieur des fonctions <b class="code">all()</b> doit se trouver une s√©quence de conditions, et non une liste. Utilisez <a target="_blank" href="https://geekflare.com/python-unpacking-operators/">unpacking operator</a> pour extraire les conditions de la liste de conditions. Avec cet op√©rateur, vous pouvez inclure votre liste de conditions dans la fonction <b class="code">all()</b>!
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Alors, √† quoi devrait ressembler ma solution finale?
    </div>
    <div class="answer">
        <p>
            Il vous suffit de combiner tous les indices pr√©c√©dents et d'envelopper votre code dans une expression de fonction. Il est fortement recommand√© d'utiliser des indications de type pour les donn√©es d'entr√©e et de sortie.
        </p>
        <p>Voici la solution compl√®te:</p>
        <div class="spoiler">
        <pre class="brush: python">
from itertools import groupby


def long_pressed(text: str, typed: str) -> bool:
    
    text1 = [list(g) for _, g in groupby(text)]
    typed1 = [list(g) for _, g in groupby(typed)]
    
    return all((text!= typed,
                len(typed1) == len(text1),
                *[b[0] == a[0] and len(b)>= len(a) for a, b in zip(text1, typed1)]))
        </pre>
        </div>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Montrez-moi d'autres solutions!<br />
        parce que je veux √™tre une vraie ü•á Python Ninnjaa!
    </div>
    <div class="answer">
        <p>Bien s√ªr, prenez-le!</p>
        <p>
            En utilisant le module d'expression r√©guli√®re, ajoutez un caract√®re sp√©cial <b class="code">+</b> (r√©p√©titif) apr√®s chaque caract√®re <b class="code">text</b>, √©chappez les caract√®res sp√©ciaux (supprimez toute signification sp√©ciale possible) et comparez la cha√Æne r√©sultante avec <b class="code">typed</b>.
        </p>
        <div class="spoiler">
        <pre class="brush: python">
from re import sub, fullmatch


def long_pressed(text: str, typed: str) -> bool:

    pattern = sub(r'(\S)', r'\1+', text)
    pattern = sub(r'([\'"/?!.,;])', r'\\\1', pattern)

    return bool(fullmatch(pattern, typed)) and text!= typed   
        </pre>
        </div>
        <p>Cliquez sur <b>Best Solutions</b> dans le menu mission et d√©couvrez de nombreuses autres solutions int√©ressantes!</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Merci beaucoup! Je comprends mieux maintenant! Tout fonctionne bien!
    </div>
    <div class="answer">
        üëç Heureux de l'apprendre!
    </div>
</div>
</body>